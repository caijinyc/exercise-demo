webpackJsonp([6],{"9B7Y":function(t,s){},kvay:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("4YfN"),a=e.n(i),l=e("qwAB"),n=e("ZV4u"),c=e("y/jF"),r=e("9rMa"),o=e("m40h"),u=e("W/7t"),h=e("PvFA"),d={mixins:[e("F4+m").a],data:function(){return{listDetail:[],scrollY:0,headerTitle:"歌单"}},created:function(){this._getRecommendListDetail(this.musicList.id),this.probeType=3,this.listenScroll=!0},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTranslateY=44-this.imageHeight},computed:a()({playCount:function(){if(this.musicList.playCount)return this.musicList.playCount<1e5?Math.floor(this.musicList.playCount):Math.floor(this.musicList.playCount/1e4)+"万"},bgStyle:function(){return"background-image: url("+this.musicList.picUrl+")"},title:function(){return this.musicList.name}},Object(r.c)(["musicList"])),methods:a()({handlePlaylist:function(t){var s=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=s,this.$refs.list.refresh()},selectItem:function(t,s){this.selectPlay({list:this.listDetail,index:s})},scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},_getRecommendListDetail:function(t){var s=this;t?Object(o.c)(t).then(function(t){t.status===u.a?s.listDetail=t.data.result.tracks.map(function(t){return Object(h.a)(t)}):console.error("getRecommendListDetail 获取失败！")}):this.$router.push("/recommend")},sequence:function(){var t=this.listDetail;this.sequencePlay({list:t})}},Object(r.b)(["selectPlay","sequencePlay"])),watch:{scrollY:function(t){var s=Math.abs(t/this.imageHeight);t<this.minTranslateY+44-20?this.headerTitle=this.musicList.name:this.headerTitle="歌单",this.$refs.header.style.background=t<0?"rgba(212, 68, 57, "+s+")":"rgba(212, 68, 57, 0)"}},components:{SongList:n.a,Scroll:l.a,Loading:c.a}},m={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"slide",mode:"out-in"}},[e("div",{staticClass:"music-list"},[e("div",{ref:"header",staticClass:"header"},[e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),e("div",{staticClass:"text"},[e("h1",{staticClass:"title"},[t._v(t._s(t.headerTitle))])])]),t._v(" "),e("scroll",{ref:"list",staticClass:"list",attrs:{"probe-type":t.probeType,"listen-scroll":t.listenScroll,data:t.listDetail},on:{scroll:t.scroll}},[e("div",{staticClass:"music-list-wrapper"},[e("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[e("div",{staticClass:"filter"}),t._v(" "),e("div",{staticClass:"text"},[e("h2",{staticClass:"list-title"},[t._v(t._s(t.title))]),t._v(" "),t.playCount?e("p",{staticClass:"play-count"},[e("i",{staticClass:"fa fa-headphones"}),t._v("\r\n              "+t._s(t.playCount)+"\r\n            ")]):t._e()])]),t._v(" "),e("div",{staticClass:"song-list-wrapper"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listDetail.length,expression:"listDetail.length"}],staticClass:"sequence-play",on:{click:t.sequence}},[e("i",{staticClass:"iconfont icon-bofangicon"}),t._v(" "),e("span",{staticClass:"text"},[t._v("播放全部")]),t._v(" "),e("span",{staticClass:"count"},[t._v("(共"+t._s(t.listDetail.length)+"首)")])]),t._v(" "),e("song-list",{attrs:{songs:t.listDetail},on:{select:t.selectItem}})],1)])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.listDetail.length,expression:"!listDetail.length"}],staticClass:"loading-content"},[e("loading")],1)],1)])},staticRenderFns:[]};var f=e("Z0/y")(d,m,!1,function(t){e("9B7Y")},"data-v-2fbc23d9",null);s.default=f.exports},m40h:function(t,s,e){"use strict";s.a=function(){var t=l.b+"/banner";return a.a.get(t)},s.b=function(){var t=l.b+"/personalized";return a.a.get(t)},s.d=function(){var t=l.b+"/personalized/newsong";return a.a.get(t)},s.c=function(t){var s=l.b+"/playlist/detail?id="+t;return a.a.get(s)};var i=e("aozt"),a=e.n(i),l=e("W/7t")}});
//# sourceMappingURL=6.bdd7b973a027a2c2639f.js.map